import './breakpointCustomizable-f03211e4.js';
var FONT_SIZE_REGEX = /^(\d+\.?\d*)(rem|px)$/;
var REM_BASE = 16;
var remToPx = function (rem) {
    var _a;
    var _b = (_a = rem === null || rem === void 0 ? void 0 : rem.match(FONT_SIZE_REGEX)) !== null && _a !== void 0 ? _a : [], fontSizeValue = _b[1], fontSizeUnit = _b[2];
    if (fontSizeUnit !== 'rem' || fontSizeValue === '0') {
        throw new Error('function only accepts value in rem and not 0, e.g. 1.5rem');
    }
    else {
        return parseFloat("" + fontSizeValue) * REM_BASE + "px";
    }
};
var calculateLineHeight = function (fontSize) {
    var _a;
    var _b = (_a = fontSize === null || fontSize === void 0 ? void 0 : fontSize.match(FONT_SIZE_REGEX)) !== null && _a !== void 0 ? _a : [], fontSizeValue = _b[1], fontSizeUnit = _b[2];
    if (fontSizeUnit === undefined || fontSizeValue === undefined || fontSizeValue === '0') {
        throw new Error("font size needs to be value + px or rem and not 0, e.g. 15rem or 16px, received: '" + fontSize + "'");
    }
    var fontSizePx = fontSizeUnit === 'rem' ? remToPx(fontSize) : fontSizeValue;
    var fontSizeLength = parseFloat(fontSizePx);
    var e = 2.71828;
    var exactLineHeightFactor = 0.911 / (2.97 + 0.005 * Math.pow(e, 0.2 * fontSizeLength)) + 1.2;
    var exactLineHeightPx = fontSizeLength * exactLineHeightFactor;
    var remainingPx = exactLineHeightPx % 4;
    if (remainingPx > 2) {
        remainingPx = remainingPx - 4;
    }
    var roundingFactor = 100000;
    var fittedLineHeightPx = exactLineHeightPx - remainingPx;
    var fittedLineHeightFactor = fittedLineHeightPx / fontSizeLength;
    return Math.round(fittedLineHeightFactor * roundingFactor) / roundingFactor;
};
var calcLineHeightForElement = function (tag) {
    var fontSize = window.getComputedStyle(tag).fontSize;
    // fontSize is "" when element does no longer exist and would throw an exception in calculateLineHeight
    return fontSize && calculateLineHeight(fontSize);
};
export { calcLineHeightForElement as c };
